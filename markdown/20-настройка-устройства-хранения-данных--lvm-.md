# 20. Настройка устройства хранения данных (LVM)

### Вариант реализации:

#### 

#### srv1-cod (alt-server):

* Реализуем LVM-том:
  + при помощи утилиты **lsblk** необходимо определить диск который будет использоваться:
  + в данном случае будет использоваться диск **sdb** (ранее подключённый по iSCSI)

![](../images/20_image__1__3693b6df75.png)

* Помечаем диски, что данный диск будет использоваться для LVM:

```bash
pvcreate /dev/sdb
```

* + результат:

![](../images/20_image__2__1f81c7bc1a.png)

* Создаём группу логических томов с именем **VG**:

```bash
vgcreate VG /dev/sdb
```

* + результат:

![](../images/20_image__3__1bf04ed69e.png)

* Создадим логический том с именем **DATA**, используя **100%** дискового пространства:

```bash
lvcreate -l 100%FREE -n DATA VG
```

* + результат:

![](../images/20_image__4__7151fdab19.png)

* Проверить можно с помощью команды **lvdisplay**:

![](../images/20_image__5__add2acbe35.png)

* + в качестве файловой системы используем **xfs**:

```bash
mkfs.xfs /dev/VG/DATA
```

* + результат:

![](../images/20_image__6__b1b8e75324.png)

* Настраиваем **автоматическое монтирование** логического тома в **/opt/data**:  
  + создадим директорию для монтирования:

```bash
mkdir /opt/data
```

* Добавляем в файл **/etc/fstab** следующую строку для автоматического монтирования логического тома **DATA**:
  + - *P.S. или на основе **UUID***

![](../images/20_image__7__0e855e7867.png)

* Выполняем монтирование:

```bash
mount -av
```

* + результат:

![](../images/20_image__8__525c7ea45b.png)

* Проверить можно с помощью команд **lsblk** или **df**:

![](../images/20_image__9__ed55e99659.png)

Последнее изменение: пятница, 21 ноября 2025, 09:31