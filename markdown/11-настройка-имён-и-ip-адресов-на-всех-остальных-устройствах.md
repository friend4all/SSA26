# 11. Настройка имён и IP-адресов на всех остальных устройствах

### Вариант реализации:

#### 

#### cli-cod (alt-workstation):

##### Базовая настройка устройства:

* Перейдём в Центр Управления Системой (ЦУС/acc):

![](../images/11_image_2881098263.png)

* В ЦУС перейдём в раздел Ethernet-интерфейсы:

![](../images/11_image__1__9ce21d7743.png)

* Назначим имя на устройство в соответствие с топологией:

![](../images/11_image__2__6ffa001bc3.png)

* В качестве режима работы сетевой подсистемы выберем **NetworkManager (native)**:

![](../images/11_image__3__9f965b04b0.png)

* Перейдём в обычный **Настройки** для назначения сетевых параметров:

![](../images/11_image__4__786425e023.png)

* В разделе **Сеть** перейдём к настройке сетевого подключения:

![](../images/11_image__5__0c8d93f35f.png)

* Задаём **Вручную** и нажимаем **Применить**:
  + **Адрес**
  + **Маску сети**
  + **Шлюз**
  + **DNS** (в качестве DNS-сервера указываем IP-адрес **srv1-cod**)

![](../images/11_image__6__8b4656f92f.png)

* Проверить можно на вкладке **Подробности:**

**![](../images/11_image__7__a43cddeac1.png)**

* Также можно проверить доступ в сеть Интернет:

![](../images/11_image__8__e09c2c466e.png)

#### cli2-a (alt-workstation):

##### Базовая настройка устройства:

* Реализация аналогично **cli-cod**:
  + имя должно быть:

![](../images/11_image__9__888e7cb5ab.png)

* + сетевые параметры должны быть:

![](../images/11_image__10__62898be631.png)

* + доступ в сеть Интернет должен быть:

![](../images/11_image__11__ffc650de66.png)

* + связность с устройствами **COD-а**должна быть, например с **cli-cod:**

![](../images/11_image__12__a52ace0127.png)

#### admin-cod (alt-workstation):

##### Базовая настройка устройства:

* Реализация аналогично **cli-cod**:

![](../images/11_image__20__287e7b8b72.png)

#### srv1-cod (alt-server):

##### Базовая настройка устройства:

* Для назначения имени устройства согласно топологии используем следующую команду:

```bash
hostnamectl set-hostname srv1-cod.cod.ssa2026.region; exec bash
```

* Так же рекомендуется указать имя в файле **/etc/sysconfig/network**:

```bash
vim /etc/sysconfig/network
```

* + указать имя в параметре **HOSTNAME**:

![](../images/11_image__13__35a2f1956c.png)

* Проверить можно с помощью команды **hostname** с ключём **-f**:

![](../images/11_image__14__3625b3136d.png)

Проверяем интерфейсы и определяемся какой к кому направлен (сверка производится по МАС-адресам):

* таким образом, имеем (в данном конкретном случае):
  + **ens19** - интерфейс в сторону **sw2-cod (vlan100)**;
  + **ens21** - интерфейс в сторону **sw2-cod (vlan200);**

![](../images/11_image__15__2ace5634ee.png)

Для каждого интерфейса в директории **/etc/net/ifaces/ <ИМЯ\_ИНТЕРФЕЙСА>/** необходимо создать файл **options**

* указав в нём два основных параметра:
  + **TYPE=eth**
  + **BOOTPROTO=static**

![](../images/11_image__16__92d7a7e1ef.png)

* Задаём IP-адрес на интерфейс **ens19 (vlan100)**:

```bash
echo "192.168.10.1/24" > /etc/net/ifaces/ens19/ipv4address
```

* Задаём IP-адрес шлюза по умолчанию для интерфейса **ens19 (vlan100)**:

```bash
echo "default via 192.168.10.254" > /etc/net/ifaces/ens19/ipv4route
```

* Задаём IP-адрес на интерфейс **ens20 (vlan200)**:
  + шлюз не задаётся, по заданию данный vlan не должен маршрутизироваться;

```bash
echo "192.168.20.1/24" > /etc/net/ifaces/ens20/ipv4address
```

* Перезагружаем службу **network** для применения всех настроек:

```bash
systemctl restart network
```

* Проверить:

![](../images/11_image__17__f7a9a4e7f1.png)

#### srv2-cod (alt-server):

##### Базовая настройка устройства:

* Реализация аналогично **srv1-cod**:

![](../images/11_image__18__604f342025.png)

#### dc-a (alt-server):

##### Базовая настройка устройства:

* Реализация аналогично **srv1-cod**:

![](../images/11_image__19__4b1d6551ab.png)

Последнее изменение: пятница, 14 ноября 2025, 13:39