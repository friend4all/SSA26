# 18. Настройка сервера баз данных

### Вариант реализации:

#### 

#### srv2-cod (alt-server):

* Устанавливаем **PostgreSQL** сервер:

```bash
apt-get update && apt-get install -y postgresql17-server
```

* Создаём системные базы данных:

```bash
/etc/init.d/postgresql initdb
```

* + Результат:

![](images/18_image_efe0345ce0.png)

* Включаем и добавляе в автозагрузку PostgreSQL:

```bash
systemctl enable --now postgresql
```

* По умолчанию доступ из сети к PostgreSQL отключён:

![](images/18_image__1__2b487020d2.png)

* Разрешаем доступ к PostgreSQL из сети отредактировав конфигаруционный файл **/var/lib/pgsql/data/postgresql.conf**:
  + в конфигарционном файле находим строку "**listen\_addresses = 'localhost'**" и приводим её к следующему виду:

![](images/18_image__2__57aa3983b3.png)

* Настраиваем парольную аутентификацию для удалённого доступа отредактировав конфигаруционный файл **/var/lib/pgsql/data/pg\_hba.conf**:
  + добавляем следующую запись:

![](images/18_image__3__15ada8540d.png)

* Перезапускаем PostgreSQL:

```bash
systemctl restart postgresql
```

* Проверяем доступ по сети:

![](images/18_image__4__43cfc86954.png)

* Создадим суперпользователя **superadmin**:

  + задав пароль **P@ssw0rdSQL**

```bash
createuser -U postgres --superuser --encrypted --pwprompt superadmin
```

* Создадим базу данных **superadmin**:

```bash
su - postgres -s /bin/sh -c 'createdb -O superadmin superadmin'
```

#### admin-cod (alt-server):

* Устанавливаем **DBeaver**:

```bash
apt-get update && apt-get install -y eepm
```

```bash
epm play -y dbeaver
```

* Открываем **DBeaver** и создаём подключение к БД:

![](images/18_image__6__31b0c45a31.png)

![](images/18_image__7__5d219b4a4c.png)

![](images/18_image__8__8b9bb1bf47.png)

![](images/18_image__9__e8c9438b7c.png)

![](images/18_image__10__5c38ec37a8.png)

![](images/18_image__11__22a1da46e8.png)

Последнее изменение: четверг, 20 ноября 2025, 13:01