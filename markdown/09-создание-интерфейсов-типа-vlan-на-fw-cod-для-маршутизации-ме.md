# 9. Создание интерфейсов типа VLAN на fw-cod для маршутизации между VLAN

### Вариант реализации:

#### 

#### cli1-a (alt-workstation):

##### Создание интерфейсов типа VLAN на fw-cod для маршутизации между VLAN

* Открываем браузер и переходи по **[https://172.16.1.2:8443](https://172.16.1.2:8443/)** (IP-адрес **fw-cod**), выполняем вход в веб-интерфейс управления **fw-cod**
* Перейдёт в **Сервисы -> Сетевые интерфейсы -> Добавить -> VLAN**:

![](images/09_image__1__ae9c0bd229.png)

* Заполняем форму **Добавление Ethernet-интерфейса**:
  + задаём произвольное имя;
  + роль **LAN**;
  + физический порт, направленный в сторону **fw1-cod;**
  + режим - **Без конфигурации**, т.к. IP-адреса будут назначаться на интерфейсы **VLAN,**созданные на базе данного интерфейса

![](images/09_image__2__2a5506ab77.png)

* Нажимаем **Добавить**, результат добавления интерфейса:

![](images/09_image__3__f88a81813e.png)

* Создаём интерфейсы типа **VLAN**:

![](images/09_image_4755f07b33.png)

* Заполняем форму **Добавление VLAN-интерфейса**:
  + задаём произвольное имя;
  + выбираем ранее созданный интерфейс в сторону **sw1-cod;**
  + указываем в качестве тега vlan **100**;
  + задаём статическую конфигурацию IP-адреса и нажимаем добавить

![](images/09_image__4__353aa1bc01.png)

![](images/09_image__5__4cc8d42ca0.png)

* Результат добавления интерфейса типа **VLAN**:

![](images/09_image__6__8f9445b1bc.png)

* Аналогичным образом необходимо создать интерфейсы типа **VLAN** для:
  + **vlan300**
  + **vlan400**
  + **vlan500**
    - для **vlan200** создавать интерфейс нет необходимости, т.к. по условиям задания трафик данного vlan-а не должен маршрутизироваться

![](images/09_image__7__f9a1dfb6cf.png)

* Доступ в сеть Интернет можно проверить с виртуальной машины **sw1-cod** используя команды временного назначения IP-адресов и шлюза:
  + назначив средствами **iproute2** временно на интерфейс,смотрящий в сторону **fw-cod (ens19)**,
  + создав тегированный подинтерфейс с IP-адресом из подсети для **vlan300**

```bash
ip link add link ens19 name ens19.300 type vlan id 300
ip link set dev ens19 up
ip link set dev ens19.300 up
ip addr add 192.168.30.1/24 dev ens19.300
ip route add 0.0.0.0/0 via 192.168.30.254
```

* Доступ в сеть Интернет с **sw1-cod**:

![](images/09_image__8__c78ee358a3.png)

Последнее изменение: четверг, 13 ноября 2025, 13:38